java.net.URL u = new java.net.URL("http://www.google.com/tata/toto.jsp");
//java.net.URL u = new java.net.URL("http://forum.macbidouille.com?showtopic=408814/style_images/skinmb/css_img_quote.gif");
System.out.println("----------");
System.out.println(u.toURI());
System.out.println(u.getPath());
System.out.println(u.getHost());
System.out.println(u.getProtocol());
System.out.println(u.toURI().toString().replaceAll(u.getPath(),""));
String a="http://www.google.com";
System.out.println(a.substring(a.indexOf('.')+1));
String page="http://www.google.com/presentation/presentation.html";
System.out.println(page.substring(0,page.lastIndexOf('/')+1));
System.out.println(page.substring(page.lastIndexOf('/')+1));

System.out.println(5 % 2);
String URL = "aHR0cDovL2FwYWNoZS5jcmloYW4uZnIvZGlzdC90b21jYXQvdG9tY2F0LTgvdjguNS4zMS9iaW4vYXBhY2hlLXRvbWNhdC04LjUuMzEudGFyLmd6";
byte[] encodedBytes = java.util.Base64.getEncoder().encode("http://apache.crihan.fr/dist/tomcat/tomcat-8/v8.5.31/bin/apache-tomcat-8.5.31.tar.gz".getBytes());
System.out.println(new String(encodedBytes));
byte[] decodedBytes = java.util.Base64.getDecoder().decode(URL);
System.out.println(new String(decodedBytes));
String a="Content-Type: text/css; charset=utf-8";
System.out.println(a.substring(a.indexOf("Content-Type: ")+14,a.length()));

String a="<form name=\"httpsvar\" id=\"httpsvar\" action=\"./index.php\" method=\"post\">";
System.out.println(a.replaceAll("action=\"","TOTO"));
String a="@import url(\"/style/site.css\");";
System.out.println(a.replaceAll("url\\(\"", "toto"));

String a="href=\"http://www.toto.com\">toto</a>";
System.out.println(a.indexOf("href=")+"href=".length());

String browser_response = "<img src=\"http://files.macbidouille.com/mbv3/2019/11/24/QbKmphfCDxeGqHxr.jpeg\">";
String JTunnel = "http://dedifab.fr/JTunnel";
String domain = "macbidouille.com";
String URL = "http:/www.macbidouille.com";
browser_response = browser_response.replaceAll("src='//", "src='http://");
browser_response = browser_response.replaceAll("src=\"//", "src=\"http://");
browser_response = browser_response.replaceAll("href='//", "href='http://");
browser_response = browser_response.replaceAll("href=\"//", "href=\"http://");
browser_response = browser_response.replaceAll("https://", JTunnel +"?page=https://");
browser_response = browser_response.replaceAll("http://", JTunnel + "?page=http://");

// Pass 2 : HTML
browser_response = browser_response.replaceAll("href=\"/", "href=\"" + JTunnel + "?page=" + domain + "/");
browser_response = browser_response.replaceAll("href=\'/", "href=\'" + JTunnel + "?page=" + domain + "/");
browser_response = browser_response.replaceAll("src=\"/", "src=\"" + JTunnel + "?page=" + domain + "/");
browser_response = browser_response.replaceAll("src=\'/", "src=\'" + JTunnel + "?page=" + domain + "/");
browser_response = browser_response.replaceAll("href=\"(?!http)", "href=\"" + JTunnel + "?page=" + URL + "/");
browser_response = browser_response.replaceAll("href=\'(?!http)", "href=\'" + JTunnel + "?page=" + URL + "/");
browser_response = browser_response.replaceAll("src=\"(?!http)", "src=\"" + JTunnel + "?page=" + URL + "/");
browser_response = browser_response.replaceAll("src=\'(?!http)", "src=\'" + JTunnel + "?page=" + URL + "/");
browser_response = browser_response.replaceAll("href=\"(?!.*JTunnel)", "href=\"" + JTunnel + "?page=");
browser_response = browser_response.replaceAll("href=\'(?!.*JTunnel)", "href=\'" + JTunnel + "?page=");
browser_response = browser_response.replaceAll("src=\"(?!.*JTunnel)", "src=\"" + JTunnel + "?page=");
browser_response = browser_response.replaceAll("src=\'(?!.*JTunnel)", "src=\'" + JTunnel + "?page=");

// forms action
browser_response = browser_response.replaceAll("action=\"(?!.*JTunnel)", "action=\"" + JTunnel + "?page=" + URL + "/");
browser_response = browser_response.replaceAll("action=\'(?!.*JTunnel)", "action=\'" + JTunnel + "?page=" + URL + "/");

// Pass 3 : CSS
browser_response = browser_response.replaceAll("url\\(\"(?!.*JTunnel)", "url(\"" + JTunnel + "?page=" + URL + "/");
browser_response = browser_response.replaceAll("url\\(\'(?!.*JTunnel)", "url(\'" + JTunnel + "?page=" + URL + "/");
browser_response = browser_response.replaceAll("url\\((?!\"|'|.*JTunnel)", "url(" + JTunnel + "?page=" + URL + "/");
System.out.println(browser_response);
